<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>

body{
font-family:Segoe UI;
margin:0;
background:transparent;
}

.container{
max-width:520px;
margin:auto;
padding:15px;
}

h2{
margin:5px 0;
}

.botao{
padding:6px 10px;
margin:4px;
border-radius:6px;
border:none;
cursor:pointer;
background:#27ae60;
color:white;
}

input{
padding:6px;
margin-top:5px;
}

.semana{
margin-top:15px;
padding:10px;
border-radius:8px;
background:#f8f9fa;
}

.dia{
padding:6px;
margin:3px 0;
border-left:4px solid transparent;
}

.hoje{
border-left:6px solid #27ae60;
font-weight:bold;
background:#ffffff;
}

</style>
</head>

<body>

<div class="container">

<h2>ðŸ“– Plano de Leitura</h2>

<div id="dataTexto"></div>

<button class="botao" onclick="voltarHoje()">HOJE</button>

<br><br>

<input type="date" id="dataEscolhida">
<button class="botao" onclick="aplicarData()">Aplicar</button>

<hr>

<div>
<button class="botao" onclick="abrirTemporada('t1')">Temporada 1</button>
<button class="botao" onclick="abrirTemporada('t4')">Temporada 4</button>
</div>

<div id="conteudo"></div>

</div>

<script>

// ================= DATA =================

function getDataPlano(){
let salva = localStorage.getItem("dataPlano");

if(salva) return new Date(salva);

return new Date();
}

function aplicarData(){
const valor =
document.getElementById("dataEscolhida").value;

localStorage.setItem("dataPlano",valor);
location.reload();
}

function voltarHoje(){
localStorage.removeItem("dataPlano");
location.reload();
}

const dataPlano = getDataPlano();

document.getElementById("dataTexto")
.innerHTML =
"Hoje no plano: <b>" +
dataPlano.toLocaleDateString("pt-BR",
{weekday:"long",day:"2-digit",month:"long",year:"numeric"})+
"</b>";

const chaveHoje =
String(dataPlano.getMonth()+1).padStart(2,"0")
+"-"+String(dataPlano.getDate()).padStart(2,"0");


// ================= BANCO (EXEMPLO) =================

const plano={

t1:[
{
semana:"Semana 8 â€“ Jornada pelo deserto",
versiculo:"ÃŠxodo 4.31",
dias:{
"02-17":"ÃŠxodo 1â€“3",
"02-18":"ÃŠxodo 4â€“6",
"02-19":"ÃŠxodo 7â€“9",
"02-20":"ÃŠxodo 10â€“12",
"02-21":"ÃŠxodo 13â€“14",
"02-22":"ÃŠxodo 15â€“16",
"02-23":"ÃŠxodo 17â€“18"
}
}
],

t4:[
{
semana:"Semana 60 â€“ Evangelho de Lucas",
versiculo:"Lucas 21.34-36",
dias:{
"02-16":"Lucas 14â€“15",
"02-17":"Lucas 16â€“17",
"02-18":"Lucas 18â€“19",
"02-19":"Lucas 20â€“21",
"02-20":"Lucas 22",
"02-21":"Lucas 23",
"02-22":"Lucas 24"
}
}
]

};


// ================= ABERTURA =================

function abrirTemporada(temp){

const area=document.getElementById("conteudo");
area.innerHTML="";

plano[temp].forEach(sem=>{

if(Object.keys(sem.dias).includes(chaveHoje)){

let html=
`<div class="semana">
<h3>${sem.semana}</h3>`;

for(const data in sem.dias){

const destaque =
data===chaveHoje
? "dia hoje"
: "dia";

html+=
`<div class="${destaque}">
${data===chaveHoje?"ðŸ“– ":""}
${data.replace("-","/")} â€” ${sem.dias[data]}
</div>`;
}

html+=
`<p><b>VersÃ­culo:</b> ${sem.versiculo}</p>
</div>`;

area.innerHTML+=html;

}

});

}

</script>

</body>
</html>